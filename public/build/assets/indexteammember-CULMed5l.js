import{n as M,r as g,q as X,J as W,p as E,d as C,o as n,e as r,g as f,v as u,f as o,w as i,B as m,h as B,a8 as R,a9 as Y,F as p,I as Z,z,x as N,K,G as ee,H as te,E as ae}from"./vendor-ZmbnWLp6.js";import{u as ne}from"./useFormatCurrency-ovqMsPCw.js";import{T as oe}from"./team-CGIcSF-1.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-H3fHEa0S.js";const se=h=>(ee("data-v-ff8ba366"),h=h(),te(),h),re={class:"col-md-6 alert alert-danger"},le={class:"col-md-6 d-flex gap-4 mb-4"},ie=se(()=>f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-row",width:"60",height:"60",viewBox:"0 0 24 24"},[f("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m17 8l4 4l-4 4M7 8l-4 4l4 4"})],-1)),de={style:{padding:"8px"}},ce={key:0},ue=["onClick"],me=M({__name:"Teammember",setup(h){const{responseTeam:y,getTeamMember:I,changeGroup:T}=oe(),b=g([]),D=K(),O=ae();X(async()=>{await I(D.params.id),b.value=y.data}),W(()=>D.params.id,async e=>{await I(e),b.value=y.data});const l=E({searchText:"",searchedColumn:""}),S=g(),A=e=>{switch(e){case"F1":return"#1F77B4";case"F2":return"#AEC7E8";case"F3":return"#FF7F0E";case"F4":return"#FFBB78";case"F5":return"#2CA02C";default:return""}},G=[{title:"Tài khoản",dataIndex:"email",width:180},{title:"Tên",dataIndex:"name",customFilterDropdown:!0,onFilter:(e,t)=>t.name.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{S.value.focus()},100)},width:250},{title:"Mã thành viên",dataIndex:"referral_code",width:140,customFilterDropdown:!0,onFilter:(e,t)=>t.id.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{S.value.focus()},100)}},{title:"DS Cá nhân",dataIndex:"personalRevenue",sorter:{compare:(e,t)=>e.personal_sale-t.personal_sale},width:200},{title:"DS Nhóm",dataIndex:"teamRevenue",sorter:{compare:(e,t)=>e.team_sale-t.team_sale},width:200},{title:"Hạng thành viên",dataIndex:"level",filters:[{text:"F1",value:"F1"},{text:"F2",value:"F2"},{text:"F3",value:"F3"},{text:"F4",value:"F4"},{text:"F5",value:"F5"}],onFilter:(e,t)=>t.level.indexOf(e)===0,width:160}],H=E({pageSize:10,showSizeChanger:!0,responsive:!0,showLessItems:!0,onChange:(e,t)=>{}}),$=(e,t,d)=>{t(),l.searchText=e[0],l.searchedColumn=d},P=e=>{e({confirm:!0}),l.searchText=""};function U(e,t,d,F){}const j=e=>{O.push({name:"team",params:{id:e}})},v=g(""),_=g(""),L=g(""),q=async()=>{if(v.value===""||_.value===""){L.value="Vui lòng nhập đầy đủ thông tin.";return}const e={memberCode:v.value,teamLeaderCode:_.value};L.value="",await T(e),v.value="",_.value=""};return(e,t)=>{const d=C("a-input"),F=C("a-button"),J=C("a-tag"),Q=C("a-table");return n(),r(p,null,[f("div",re,u(L.value),1),f("div",le,[o(d,{value:v.value,"onUpdate:value":t[0]||(t[0]=a=>v.value=a),placeholder:"Mã thành viên",class:"w-[200px]"},null,8,["value"]),ie,o(d,{value:_.value,"onUpdate:value":t[1]||(t[1]=a=>_.value=a),placeholder:"Mã trưởng nhóm",class:"w-[200px]"},null,8,["value"]),o(F,{class:"text-white bg-secondary",onClick:t[2]||(t[2]=a=>q())},{default:i(()=>[m("Xác nhận")]),_:1})]),o(Q,{"data-source":b.value,columns:G,pagination:H,scroll:{x:1200},onChange:U},{customFilterDropdown:i(({setSelectedKeys:a,selectedKeys:s,confirm:k,clearFilters:c,column:x})=>[f("div",de,[o(d,{ref_key:"searchInput",ref:S,placeholder:`Tìm ${x.title}`,value:s[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:w=>a(w.target.value?[w.target.value]:[]),onPressEnter:w=>$(s,k,x.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),o(F,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:w=>$(s,k,x.dataIndex)},{default:i(()=>[o(B(R)),m(" Tìm ")]),_:2},1032,["onClick"]),o(F,{size:"small",style:{width:"90px"},onClick:w=>P(c)},{default:i(()=>[m(" Đặt lại ")]),_:2},1032,["onClick"])])]),customFilterIcon:i(({filtered:a})=>[o(B(R),{style:Y({color:a?"#108ee9":void 0})},null,8,["style"])]),bodyCell:i(({text:a,column:s,record:k})=>[l.searchText&&l.searchedColumn===s.dataIndex?(n(),r("span",ce,[(n(!0),r(p,null,Z(a.toString().split(new RegExp(`(?<=${l.searchText})|(?=${l.searchText})`,"i")),(c,x)=>(n(),r(p,null,[c.toLowerCase()===l.searchText.toLowerCase()?(n(),r("mark",{key:x,class:"highlight"},u(c),1)):(n(),r(p,{key:1},[m(u(c),1)],64))],64))),256))])):(n(),r(p,{key:1},[s.dataIndex==="name"?(n(),r("a",{key:0,onClick:c=>j(k.id)},u(a),9,ue)):z("",!0),s.dataIndex==="level"?(n(),N(J,{key:1,color:A(a)},{default:i(()=>[m(u(a),1)]),_:2},1032,["color"])):s.dataIndex==="personalRevenue"||s.dataIndex==="teamRevenue"?(n(),r(p,{key:2},[m(u(B(ne)(a)),1)],64)):z("",!0)],64))]),_:1},8,["data-source","pagination"])],64)}}}),pe=V(me,[["__scopeId","data-v-ff8ba366"]]),he=M({__name:"indexteammember",setup(h){return(y,I)=>{const T=C("a-card");return n(),N(T,{title:"Quản lý đội nhóm",bordered:!1,class:"w-100 main-mobi-teams"},{default:i(()=>[o(pe)]),_:1})}}}),Ce=V(he,[["__scopeId","data-v-00acb538"]]);export{Ce as default};
