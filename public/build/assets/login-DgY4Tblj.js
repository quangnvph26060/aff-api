import{n as E,p as x,q as K,r as P,d as h,o as d,e as u,g as l,v as c,x as U,w as r,f as o,h as e,y as f,z as m,B as D,C as O,D as j,E as A}from"./vendor-BijbZa7l.js";import{A as L}from"./index-fypJcWnD.js";import"./main-BqPZiIID.js";const R={class:"flex justify-center"},z={class:"grid grid-cols-2 justify-center gap-5 w-screen login_mobi"},H={class:"col-span-2 lg:col-span-1 flex justify-center"},X={class:"mt-48"},$={class:"text-3xl font-bold leading-10 text-center text-teal-300"},q={class:"mt-10"},G={key:0,class:"text-danger"},I={key:1,class:"text-danger"},J={class:"text-sm font-bold leading-5 mt-7 text-center max-md:ml-2.5"},Q=l("span",null,"Chưa có tài khoản? ",-1),W={key:0,class:"text-danger"},Y={key:1,class:"text-danger"},Z={key:2,class:"text-danger"},ee={key:3,class:"text-danger"},ae={key:4,class:"text-danger"},se={key:0,class:"mb-2"},oe={class:"flex"},te={class:"form-group mr-2"},ne=l("button",{type:"submit",class:"btn css-dev-only-do-not-override-16xcw0g ant-btn ant-btn-primary h-9 bg-secondary"},"Xác Nhận",-1),le={class:"text-sm font-bold leading-5 mt-7 text-center max-md:ml-2.5"},re=l("span",null,"Đã có tài khoản? ",-1),de={class:"hidden lg:block col-span-1 banner_mobi"},pe=E({__name:"login",setup(ie){A();const{loginForm:g,submitLogin:M,errors:s,resultOtp:S,submitResgiter:y}=L(),F=x({phone:"",password:""}),t=x({phone:"",password:"",confirmPassword:"",referral_code:"",name:"",email:"",otp:""});K(()=>{const a=new URLSearchParams(window.location.search).get("referralcode");a?t.referral_code=a:t.referral_code=""});const N=p=>{console.log("Failed:",p)},b=P(""),V=p=>{p.preventDefault(),t.otp=b.value,y(t,"sendotp")},B=p=>{p.preventDefault(),t.otp=b.value,y(t,"register")},_=P(!1);return x([{name:"Dashboard",icon:"HomeFilled",url:"/"},{name:"Cá nhân",icon:"ShoppingCart",url:"/profile"},{name:"Đăng ký",icon:"Key",url:"/signup"},{name:"Đăng nhập",icon:"Avatar",url:"/login"}]),(p,a)=>{const v=h("a-input"),i=h("a-form-item"),w=h("a-input-password"),k=h("a-button"),C=h("a-form"),T=h("a-image");return d(),u("div",R,[l("div",z,[l("div",H,[l("main",X,[l("div",null,[l("h1",$,c(_.value?"Chào mừng ":"Chào mừng trở lại"),1)]),l("div",q,[_.value?(d(),U(C,{key:1,model:t,name:"basic",autocomplete:"off",onSubmit:V,class:"w-[360px] lg:w-[400px] h-10",layout:"vertical"},{default:r(()=>[o(i,{label:"Họ và tên",name:"name"},{default:r(()=>[o(v,{value:t.name,"onUpdate:value":a[3]||(a[3]=n=>t.name=n),class:f(["h-10",[e(s).name?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).name?(d(),u("span",W,c(e(s).name),1)):m("",!0),o(i,{label:"Email",name:"email"},{default:r(()=>[o(v,{value:t.email,"onUpdate:value":a[4]||(a[4]=n=>t.email=n),class:f(["h-10",[e(s).email?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).email?(d(),u("span",Y,c(e(s).email),1)):m("",!0),o(i,{label:"Số diện thoại",name:"phone"},{default:r(()=>[o(v,{value:t.phone,"onUpdate:value":a[5]||(a[5]=n=>t.phone=n),class:f(["h-10",[e(s).phone?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).phone?(d(),u("span",Z,c(e(s).phone),1)):m("",!0),o(i,{label:"Mật khẩu",name:"password"},{default:r(()=>[o(w,{value:t.password,"onUpdate:value":a[6]||(a[6]=n=>t.password=n),class:f(["h-10",[e(s).password?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).password?(d(),u("span",ee,c(e(s).password),1)):m("",!0),o(i,{label:"Xác nhận mật khẩu",name:"confirmPassword"},{default:r(()=>[o(w,{value:t.confirmPassword,"onUpdate:value":a[7]||(a[7]=n=>t.confirmPassword=n),class:f(["h-10",[e(s).confirmPassword?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).confirmPassword?(d(),u("span",ae,c(e(s).confirmPassword),1)):m("",!0),o(i,{label:"Mã giới thiệu",name:"referral_code"},{default:r(()=>[o(v,{value:t.referral_code,"onUpdate:value":a[8]||(a[8]=n=>t.referral_code=n),class:"h-10"},null,8,["value"])]),_:1}),l("div",null,[e(S).status===!0?(d(),u("div",se,[l("form",{onSubmit:B},[l("div",oe,[l("div",te,[O(l("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=n=>b.value=n),placeholder:"Nhập Mã OTP"},null,512),[[j,b.value]])]),ne])],32)])):m("",!0)]),o(i,null,{default:r(()=>[o(k,{type:"primary","html-type":"submit",class:"w-full h-9 bg-secondary"},{default:r(()=>[D("Đăng Ký")]),_:1})]),_:1}),l("p",le,[re,l("a",{href:"#",class:"text-teal-300",onClick:a[10]||(a[10]=n=>_.value=!_.value)},"Đăng nhập")])]),_:1},8,["model"])):(d(),U(C,{key:0,model:F,name:"basic",autocomplete:"off",onFinishFailed:N,class:"w-full px-5 lg:px-0 lg:w-[400px] h-10",layout:"vertical"},{default:r(()=>[o(i,{label:"Tài Khoản",name:"phone"},{default:r(()=>[o(v,{value:e(g).phone,"onUpdate:value":a[0]||(a[0]=n=>e(g).phone=n),class:f(["h-10",[e(s).phone?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).phone?(d(),u("span",G,c(e(s).phone),1)):m("",!0),o(i,{label:"Mật khẩu",name:"password"},{default:r(()=>[o(w,{value:e(g).password,"onUpdate:value":a[1]||(a[1]=n=>e(g).password=n),class:f(["h-10",[e(s).password?"border border-danger":""]])},null,8,["value","class"])]),_:1}),e(s).password?(d(),u("span",I,c(e(s).password),1)):m("",!0),o(i,null,{default:r(()=>[o(k,{type:"submit",class:"w-full h-9 bg-secondary",onClick:e(M)},{default:r(()=>[D(" Đăng nhập ")]),_:1},8,["onClick"])]),_:1}),l("p",J,[Q,l("a",{href:"#",class:"text-teal-300",onClick:a[2]||(a[2]=n=>_.value=!_.value)},"Đăng ký")])]),_:1},8,["model"]))])])]),l("div",de,[o(T,{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/d6b6afb56aecf96cb91282d9c4221d0ed42465a149c8908d687bc58e604e84e5?apiKey=b3083cca144a416593ef7615d067aac0&",alt:"Decorative image",preview:!1,class:"h-full w-full"})])])])}}});export{pe as default};
