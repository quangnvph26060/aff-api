import{p as A,u as j,a as E,E as B,Z as L,n as T,q as F,a0 as Z,r as f,d as G,o,e as l,g as t,a6 as H,C as x,D as Q,a7 as S,F as y,H as P,h as w,f as U,w as z,$ as K,_ as W,R as J,U as O,v as _,x as $}from"./vendor-BijbZa7l.js";import{u as X}from"./useFormatCurrency-ovqMsPCw.js";import{a as I}from"./main-CnkUMuTz.js";import{P as Y}from"./product-DNPQqXQn.js";import{C as tt}from"./cart-DO1ZvTu9.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";function st(){const n=I.baseURL,d={accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")};B(),L("$swal"),j().getters.user;const h=A({data:[],total:0});return{getCategory:async()=>{try{const c=await E.get(`${n}categories`,{headers:d});c.data.status==="success"&&(h.data=c.data.data)}catch(c){console.error(c)}},responseData:h}}const r=n=>(J("data-v-946a0406"),n=n(),O(),n),at={class:"row main_product_mobi"},ot={class:"col-lg-3"},nt={class:"col-lg-2"},ct=r(()=>t("option",{value:""},"Danh Mục",-1)),it=["value"],lt={class:"col-lg-2"},rt=r(()=>t("option",{value:""},"Phần trăm hoa hồng",-1)),dt=r(()=>t("option",{value:"1"},"Tùy chọn 1",-1)),mt=r(()=>t("option",{value:"2"},"Tùy chọn 2",-1)),_t=[rt,dt,mt],ut=r(()=>t("div",{class:"col-lg-2"},[t("button",{class:"btn btn-primary"},"Tìm kiếm")],-1)),ht=W('<div class="row mb-4 mt-4" data-v-946a0406><div class="col-lg-6 col-md-12" data-v-946a0406><img src="https://img.tgdd.vn/imgt/f_webp,fit_outside,quality_100/https://cdn.tgdd.vn/2024/06/banner/1200x100-1200x100-1.jpg" class="img-fluid" alt="Banner" data-v-946a0406></div><div class="col-lg-6 col-md-12" data-v-946a0406><img src="https://img.tgdd.vn/imgt/f_webp,fit_outside,quality_100/https://cdn.tgdd.vn/2024/06/banner/1200x100-1200x100-1.jpg" class="img-fluid h-img-mb" alt="Banner" data-v-946a0406></div></div>',1),pt=["data-index"],gt={class:"card shadow-sm"},vt={class:"main-img"},ft={class:"h-7 w-[40px] md:w-[60px] icon-center commission_rate justify-center absolute top-[5px] right-[5px] bg-gradient-to-r from-rose-500 to-fuchsia-500 rounded-md text-center text-white text-sm"},xt={class:"font-weight-bold"},yt={class:"card-body px-3 pt-3"},wt={class:"text-xs font-thin text-slate-500 text-truncate"},bt={class:"font-weight-bold product-name"},Ct={class:"d-flex justify-content-between align-items-center"},kt={class:"color-secondary font-semibold"},St=["onClick"],Pt=r(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 3c.83.305 1.968.542 2.48 1.323c.356.545.356 1.268.356 2.715V9.76c0 2.942.061 3.912.892 4.826c.83.914 2.168.914 4.842.914h5.085c2.666 0 3.244-.601 3.756-3.193c.224-1.13.45-2.246.564-3.373c.216-2.134-.973-2.814-2.866-2.814H5.836M16.5 21a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3Zm-8 0a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3Z"})],-1)),$t=[Pt],jt=T({__name:"index",setup(n){const{getProduct:d,responseProduct:u,findProduct:h,searchProduct:b}=Y(),{addToCart:c}=tt(),{getCategory:V,responseData:D}=st();j();const M=B(),C=async a=>{await M.push(`/products/detail/${a}`)};function N(a){c(a)}F(async()=>{await V(),await d(),document.querySelectorAll(".product-grid .product").forEach((s,i)=>{Z.fromTo(s,{opacity:0,y:100},{opacity:1,y:0,duration:.5,delay:i*.1})})});const R=a=>{const s=I.URL,i=a.replace("public","storage");return`${s}/${i}`},p=f(""),g=f(""),v=f(""),q=async()=>{const a={searchQuery:p.value,selectedCategory:g.value,selectedCommission:v.value};await b(a)};return(a,s)=>{const i=G("a-image");return o(),l(y,null,[t("div",at,[t("form",{onSubmit:H(q,["prevent"]),class:"flex-gap"},[t("div",ot,[x(t("input",{type:"text",class:"form-control",placeholder:"Tìm kiếm...","onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e)},null,512),[[Q,p.value]])]),t("div",nt,[x(t("select",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>g.value=e)},[ct,(o(!0),l(y,null,P(w(D).data,(e,m)=>(o(),l("option",{key:m,value:e.id},_(e.name),9,it))),128))],512),[[S,g.value]])]),t("div",lt,[x(t("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=e=>v.value=e)},_t,512),[[S,v.value]])]),ut],32),ht]),U(K,{name:"fade",tag:"div",appear:"",class:"row row-cols-5 gy-4 d-flex flex_column_mobi"},{default:z(()=>[(o(!0),l(y,null,P(w(u).data,(e,m)=>(o(),l("div",{key:m,"data-index":m,class:"col-lg-2 col-12"},[t("div",gt,[t("div",vt,[e&&e.images&&e.images.length>0?(o(),$(i,{key:0,src:R(e.images[0].image_path),preview:!1,class:"card-img-top object-fit-cover",onClick:k=>C(e.id),width:"100%"},null,8,["src","onClick"])):(o(),$(i,{key:1,src:"Capture.PNG",preview:!1,class:"card-img-top object-fit-cover",onClick:k=>C(e.id)},null,8,["onClick"])),t("div",ft,[t("span",xt,_(e==null?void 0:e.commission_rate)+"% ",1)])]),t("div",yt,[t("div",wt,[t("span",bt,_(e==null?void 0:e.name),1)]),t("div",Ct,[t("span",kt,_(w(X)(e==null?void 0:e.price)),1),t("span",{class:"font-thin text-xs line-through click-hover",onClick:k=>N(e.id)},$t,8,St)])])])],8,pt))),128))]),_:1})],64)}}}),Bt=et(jt,[["__scopeId","data-v-946a0406"]]),Tt={class:"main__product_table"},Rt=T({__name:"index",setup(n){return(d,u)=>(o(),l("div",Tt,[U(Bt)]))}});export{Rt as default};
