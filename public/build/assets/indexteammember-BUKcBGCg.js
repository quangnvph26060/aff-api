import{n as D,r as S,q as P,I as q,p as b,d as x,o as a,x as y,w as l,g as J,f as c,h as k,a8 as L,B as m,a9 as Q,e as r,F as h,H as j,v as _,z as B,J as G,E as U}from"./vendor-BijbZa7l.js";import{u as W}from"./useFormatCurrency-ovqMsPCw.js";import{T as X}from"./team-COlUmBDh.js";import"./main-CnkUMuTz.js";const Y={style:{padding:"8px"}},Z={key:0},K=["onClick"],ee=D({__name:"Teammember",setup(E){const{responseTeam:C,getTeamMember:g}=X(),d=S([]),T=G(),$=U();P(async()=>{await g(T.params.id),d.value=C.data,console.log(C.data)}),q(()=>T.params.id,async e=>{await g(e),d.value=C.data});const s=b({searchText:"",searchedColumn:""}),w=S(),z=e=>{switch(e){case"F1":return"#1F77B4";case"F2":return"#AEC7E8";case"F3":return"#FF7F0E";case"F4":return"#FFBB78";case"F5":return"#2CA02C";default:return""}},R=[{title:"Tài khoản",dataIndex:"email",width:180},{title:"Tên",dataIndex:"name",customFilterDropdown:!0,onFilter:(e,t)=>t.name.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{w.value.focus()},100)},width:250},{title:"Mã thành viên",dataIndex:"id",width:140,customFilterDropdown:!0,onFilter:(e,t)=>t.id.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{w.value.focus()},100)}},{title:"DS Cá nhân",dataIndex:"personalRevenue",sorter:{compare:(e,t)=>e.personal_sale-t.personal_sale},width:200},{title:"DS Nhóm",dataIndex:"teamRevenue",sorter:{compare:(e,t)=>e.team_sale-t.team_sale},width:200},{title:"Hạng thành viên",dataIndex:"level",filters:[{text:"F1",value:"F1"},{text:"F2",value:"F2"},{text:"F3",value:"F3"},{text:"F4",value:"F4"},{text:"F5",value:"F5"}],onFilter:(e,t)=>t.level.indexOf(e)===0,width:160}],N=b({pageSize:10,showSizeChanger:!0,responsive:!0,showLessItems:!0,onChange:(e,t)=>{}}),I=(e,t,F)=>{t(),s.searchText=e[0],s.searchedColumn=F},O=e=>{e({confirm:!0}),s.searchText=""};function V(e,t,F,f){}const A=e=>{$.push({name:"team",params:{id:e}})};return(e,t)=>{const F=x("a-input"),f=x("a-button"),M=x("a-tag"),H=x("a-table");return a(),y(H,{"data-source":d.value,columns:R,pagination:N,scroll:{x:1200},onChange:V},{customFilterDropdown:l(({setSelectedKeys:n,selectedKeys:o,confirm:v,clearFilters:i,column:u})=>[J("div",Y,[c(F,{ref_key:"searchInput",ref:w,placeholder:`Tìm ${u.title}`,value:o[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:p=>n(p.target.value?[p.target.value]:[]),onPressEnter:p=>I(o,v,u.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),c(f,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:p=>I(o,v,u.dataIndex)},{default:l(()=>[c(k(L)),m(" Tìm ")]),_:2},1032,["onClick"]),c(f,{size:"small",style:{width:"90px"},onClick:p=>O(i)},{default:l(()=>[m(" Đặt lại ")]),_:2},1032,["onClick"])])]),customFilterIcon:l(({filtered:n})=>[c(k(L),{style:Q({color:n?"#108ee9":void 0})},null,8,["style"])]),bodyCell:l(({text:n,column:o,record:v})=>[s.searchText&&s.searchedColumn===o.dataIndex?(a(),r("span",Z,[(a(!0),r(h,null,j(n.toString().split(new RegExp(`(?<=${s.searchText})|(?=${s.searchText})`,"i")),(i,u)=>(a(),r(h,null,[i.toLowerCase()===s.searchText.toLowerCase()?(a(),r("mark",{key:u,class:"highlight"},_(i),1)):(a(),r(h,{key:1},[m(_(i),1)],64))],64))),256))])):(a(),r(h,{key:1},[o.dataIndex==="name"?(a(),r("a",{key:0,onClick:i=>A(v.id)},_(n),9,K)):B("",!0),o.dataIndex==="level"?(a(),y(M,{key:1,color:z(n)},{default:l(()=>[m(_(n),1)]),_:2},1032,["color"])):o.dataIndex==="personal_sale"||o.dataIndex==="team_sale"?(a(),r(h,{key:2},[m(_(k(W)(n)),1)],64)):B("",!0)],64))]),_:1},8,["data-source","pagination"])}}}),se=D({__name:"indexteammember",setup(E){return(C,g)=>{const d=x("a-card");return a(),y(d,{title:"Quản lý đội nhóm",bordered:!1,class:"w-100"},{default:l(()=>[c(ee)]),_:1})}}});export{se as default};
