import{n as z,p as ne,d as _,o as v,e as p,f as o,w as s,F as K,I as X,g as e,v as x,r as a,q as H,C as S,D as T,z as j,x as O,B as $,y as q,$ as P,a0 as ae,u as L,G as se,H as le,h as A,a1 as ce,T as ie,a2 as de,E as re}from"./vendor-ZmbnWLp6.js";import{A as ue}from"./index-DBP474FY.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-H3fHEa0S.js";const me={class:"flex items-center gap-5"},ve=z({__name:"Setting",setup(y){const k=ne({received_email:!1,order_notification:!1,withdraw_notification:!1,income_notification:!1}),d={received_email:"Email",order_notification:"Email khi có đơn hàng mới",withdraw_notification:"Email khi rút tiền thành công",income_notification:"Email khi có thu nhập mới"};return(g,C)=>{const b=_("a-switch"),m=_("a-descriptions-item"),f=_("a-descriptions"),l=_("a-card");return v(),p("div",null,[o(l,{title:"Cài đặt"},{default:s(()=>[o(f,{column:1},{default:s(()=>[(v(),p(K,null,X(d,(h,r)=>o(m,{key:r},{default:s(()=>[e("div",me,[o(b,{checked:k[r],"onUpdate:checked":w=>k[r]=w},null,8,["checked","onUpdate:checked"]),e("div",null,x(h),1)])]),_:2},1024)),64))]),_:1})]),_:1})])}}}),i=y=>(se("data-v-1670bf53"),y=y(),le(),y),fe={class:"ant-form ant-form-horizontal css-dev-only-do-not-override-16xcw0g",style:{"max-width":"600px"}},he={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},pe={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},ge=i(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Tên"},"Tên")],-1)),be={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},we={class:"ant-form-item-control-input"},xe={class:"ant-form-item-control-input-content"},ye=["readonly"],ke={key:0,class:"ant-form-explain error"},Ce={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},Ie={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},Se=i(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Số điện thoại"},"Số điện thoại")],-1)),$e={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},Ne={class:"ant-form-item-control-input"},Te={class:"ant-form-item-control-input-content"},Fe=["readonly"],Be={key:0,class:"ant-form-explain error"},Ue={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},Ve={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},De=i(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Địa chỉ"},"Địa chỉ")],-1)),Ee={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},Me={class:"ant-form-item-control-input"},ze={class:"ant-form-item-control-input-content"},je={key:0,class:"ant-form-explain error"},Ae={class:"flex justify-between gap-3"},He={method:"POST",id:"personalIdentification",enctype:"multipart/form-data",class:"w-100"},Le={class:"modal-content"},Re={class:"form-group"},Oe={class:"form-group"},qe=i(()=>e("label",{for:"cccdFrontImage"},"Ảnh CCCD mặt trước",-1)),Pe=i(()=>e("br",null,null,-1)),Ke=["src"],Xe={class:"form-group"},Ge={class:"form-group"},Ye=i(()=>e("label",{for:"cccdFrontImage"},"Ảnh CCCD mặt sau",-1)),Je=i(()=>e("br",null,null,-1)),Qe=["src"],We={class:"form-group"},Ze=i(()=>e("label",{for:"cccdNumber"},"Số CCCD",-1)),et=i(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"cccdNumber_error"})],-1)),tt={class:"form-group"},ot=i(()=>e("label",{for:"bank"},"Chọn ngân hàng",-1)),nt=i(()=>e("option",{value:""},"Chọn ngân hàng",-1)),at=["value"],st=i(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"bank_error"})],-1)),lt={class:"form-group"},ct=i(()=>e("label",{for:"accountNumber"},"Số tài khoản",-1)),it=i(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"accountNumber_error"})],-1)),dt={class:"form-group"},rt=i(()=>e("label",{for:"accountHolderName"},"Tên chủ tài khoản",-1)),ut=i(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"accountHolderName_error"})],-1)),_t=z({__name:"Info",setup(y){const{FormEdituser:k,editUser:d,getBank:g,responseBank:C,updateUserInfo:b}=ue(),m=a([]),f=L(),l=a(""),h=a(""),r=a(""),w=a(""),N=a(""),B=a(""),U=a(""),V=a(""),D=a("#"),E=a("#"),u=a({name:"",phone:"",address:""}),F=a(!0),M=a(!1);H(async()=>{const n=await f.getters.user;n&&(l.value=n,h.value=l.value.phone,r.value=l.value.name,w.value=l.value.address,l.value.user_info&&l.value.user_info.length>0&&(V.value=l.value.user_info[0].bank_name??"",U.value=l.value.user_info[0].idnumber,N.value=l.value.user_info[0].citizen_id_number,B.value=l.value.user_info[0].bank,D.value=l.value.user_info[0].front_image,E.value=l.value.user_info[0].back_image,await g(),m.value=C.data))});const G=()=>{let n=!0;return u.value.name="",u.value.phone="",u.value.address="",r.value||(u.value.name="Tên không được để trống!",n=!1),h.value?/^\d+$/.test(h.value)||(u.value.phone="Số điện thoại phải là số!",n=!1):(u.value.phone="Số điện thoại không được để trống!",n=!1),w.value||(u.value.address="Địa chỉ không được để trống!",n=!1),n},Y=async()=>{if(!G())return;const n={name:r.value,phone:h.value,address:w.value};try{await d(n),F.value=!0}catch(t){console.error("Failed to save user info:",t)}};function J(n){const t=n.target.files[0];Q(t)}const Q=n=>{const t=new FileReader;t.onload=I=>{D.value=I.target.result},t.readAsDataURL(n)};function W(n){const t=n.target.files[0];Z(t)}const Z=n=>{const t=new FileReader;t.onload=I=>{E.value=I.target.result},t.readAsDataURL(n)},ee=async()=>{const n={"font-image":D.value,"back-image":E.value,citizen_id_number:N.value,bank_name:V.value,bank:B.value,idnumber:U.value};try{await b(n)}finally{R()}},te=()=>{M.value=!0},R=()=>{M.value=!1};return(n,t)=>{const I=_("a-button"),oe=_("a-card");return v(),p("div",null,[o(oe,{title:"Thông tin cá nhân"},{default:s(()=>[e("form",fe,[e("div",he,[e("div",pe,[ge,e("div",be,[e("div",we,[e("div",xe,[S(e("input",{readonly:F.value,type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[0]||(t[0]=c=>r.value=c)},null,8,ye),[[T,r.value]]),u.value.name?(v(),p("div",ke,x(u.value.name),1)):j("",!0)])])])])]),e("div",Ce,[e("div",Ie,[Se,e("div",$e,[e("div",Ne,[e("div",Te,[S(e("input",{readonly:F.value,type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[1]||(t[1]=c=>h.value=c)},null,8,Fe),[[T,h.value]]),u.value.phone?(v(),p("div",Be,x(u.value.phone),1)):j("",!0)])])])])]),e("div",Ue,[e("div",Ve,[De,e("div",Ee,[e("div",Me,[e("div",ze,[S(e("input",{type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[2]||(t[2]=c=>w.value=c)},null,512),[[T,w.value]]),u.value.address?(v(),p("div",je,x(u.value.address),1)):j("",!0)])])])])])]),e("div",Ae,[F.value?(v(),O(I,{key:1,class:"w-1/2",onClick:t[3]||(t[3]=()=>F.value=!1)},{default:s(()=>[$("Cập nhật")]),_:1})):(v(),O(I,{key:0,class:"w-1/2",onClick:Y},{default:s(()=>[$("Lưu")]),_:1})),o(I,{onClick:te},{default:s(()=>[$("Định danh cá nhân")]),_:1}),e("div",{class:q(["modal",{active:M.value}]),onClick:P(R,["self"])},[e("div",{class:"modal-dialog modal-dialog-centered",role:"document",onClick:t[8]||(t[8]=P(()=>{},["stop"]))},[e("form",He,[e("div",Le,[e("div",Re,[e("input",{type:"file",class:"form-control-file",id:"cccdFrontImage",name:"font-image",onChange:J},null,32),e("div",Oe,[qe,$(),Pe,e("img",{style:{width:"60px",height:"50px"},src:D.value,alt:""},null,8,Ke)])]),e("div",Xe,[e("input",{type:"file",class:"form-control-file",id:"cccdBackImage",name:"back-image",onChange:W},null,32),e("div",Ge,[Ye,$(),Je,e("img",{style:{width:"60px",height:"50px"},src:E.value,alt:""},null,8,Qe)])]),e("div",We,[Ze,S(e("input",{type:"text",class:"form-control",id:"cccdNumber",name:"citizen_id_number","onUpdate:modelValue":t[4]||(t[4]=c=>N.value=c)},null,512),[[T,N.value]]),et]),e("div",tt,[ot,S(e("select",{class:"form-control",id:"bank",name:"bank","onUpdate:modelValue":t[5]||(t[5]=c=>B.value=c)},[nt,(v(!0),p(K,null,X(m.value,c=>(v(),p("option",{value:c.bin},x(c.shortName),9,at))),256))],512),[[ae,B.value]]),st]),e("div",lt,[ct,S(e("input",{type:"text",class:"form-control",id:"accountNumber",name:"idnumber","onUpdate:modelValue":t[6]||(t[6]=c=>U.value=c)},null,512),[[T,U.value]]),it]),e("div",dt,[rt,S(e("input",{type:"text",class:"form-control",id:"accountHolderName",name:"bank_name","onUpdate:modelValue":t[7]||(t[7]=c=>V.value=c)},null,512),[[T,V.value]]),ut]),e("button",{type:"button",onClick:ee,class:"btn btn-primary btn-sm",style:{width:"100px"}},"Lưu")])])])],2),e("div",{class:q(["modal-overlay",{active:M.value}])},null,2)])]),_:1})])}}}),mt=_e(_t,[["__scopeId","data-v-1670bf53"]]),vt=z({__name:"AuthInfo",setup(y){const k=L(),d=a("");return H(async()=>{const g=await k.getters.user;d.value=g}),(g,C)=>{const b=_("a-descriptions-item"),m=_("a-descriptions"),f=_("a-card");return v(),p("div",null,[o(f,{title:"Thông tin đăng nhập"},{default:s(()=>[o(m,{column:1},{default:s(()=>[o(b,null,{default:s(()=>[$(" Tên đăng nhập : "+x(d.value.email),1)]),_:1}),o(b,null,{default:s(()=>[$(" Mật Khẩu: ******** ")]),_:1})]),_:1})]),_:1})])}}}),ft={class:"relative-wrapper"},ht={class:"background-div"},pt={class:"foreground-div flex justify-center relative"},gt={class:"ant-card-body main_info"},bt={class:"ant-card-meta"},wt={class:"ant-card-meta-detail"},xt={class:"ant-card-meta-title"},yt={class:"ant-card-meta-description"},kt={class:"flex flex-col md:flex-row md:space-x-4"},Ct=e("div",{class:"hidden md:block ml-2"}," Tổng quan ",-1),It={class:"mt-14 row d-flex flex-wrap"},Ft=z({__name:"index",setup(y){const k=L(),d=a(""),g=re(),C=a("");H(async()=>{const m=await k.getters.user;m&&(d.value=m,d.value.user_info&&d.value.user_info.length>0?C.value=d.value.user_info[0].img_url:C.value="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png")});function b(m){switch(m){case"doinhom":g.push({name:"teams"});break;case"donhang":g.push({name:"orders"});break;default:g.push({name:"profile"})}}return(m,f)=>{const l=_("a-image"),h=_("a-avatar"),r=_("a-button"),w=_("a-card");return v(),p("div",null,[e("div",ft,[e("div",ht,[o(l,{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/20d4b1bdd72f28b66a0105764e94e83682338a3d48ba0a7597114917dca230b2?apiKey=b3083cca144a416593ef7615d067aac0&",alt:"Background",class:"object-cover",preview:!1})]),e("div",pt,[o(w,{hoverable:"",class:"w-11/12 px-2 flex flex-row items-center h-[100px] absolute -top-[70px] backdrop-blur-md bg-white/40 border-none justify-between",style:{width:"100%"}},{cover:s(()=>[o(h,{size:64,src:C.value},null,8,["src"])]),actions:s(()=>[e("div",kt,[o(r,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:s(()=>[o(A(ce)),Ct]),_:1}),o(r,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:s(()=>[o(A(ie)),e("div",{class:"hidden md:block ml-2",onClick:f[0]||(f[0]=N=>b("doinhom"))},"Đội nhóm")]),_:1}),o(r,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:s(()=>[o(A(de)),e("div",{class:"hidden md:block ml-2",onClick:f[1]||(f[1]=N=>b("donhang"))},"Đơn hàng")]),_:1})])]),default:s(()=>[e("div",gt,[e("div",bt,[e("div",wt,[e("div",xt,x(d.value.name),1),e("div",yt,x(d.value.email),1)])])])]),_:1})])]),e("div",It,[o(ve,{class:"col-lg-4 col-12"}),o(mt,{class:"col-lg-4 col-12"}),o(vt,{class:"col-lg-4 col-12"})])])}}});export{Ft as default};
