import{n as z,p as ne,d as r,o as _,e as p,f as o,w as a,F as K,H as X,g as e,v as w,r as l,q as A,C as I,D as $,z as R,x as O,B as S,y as q,a0 as P,a1 as ae,u as H,R as se,U as le,h as j,a2 as ce,N as ie,a3 as de,E as re}from"./vendor-Dg8UqXFD.js";import{A as ue}from"./index-DFlLFsjW.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-B7mYjJu2.js";const me={class:"flex items-center gap-5"},ve=z({__name:"Setting",setup(x){const y=ne({received_email:!1,order_notification:!1,withdraw_notification:!1,income_notification:!1}),h={received_email:"Email",order_notification:"Email khi có đơn hàng mới",withdraw_notification:"Email khi rút tiền thành công",income_notification:"Email khi có thu nhập mới"};return(g,N)=>{const m=r("a-switch"),v=r("a-descriptions-item"),k=r("a-descriptions"),i=r("a-card");return _(),p("div",null,[o(i,{title:"Cài đặt"},{default:a(()=>[o(k,{column:1},{default:a(()=>[(_(),p(K,null,X(h,(u,f)=>o(v,{key:f},{default:a(()=>[e("div",me,[o(m,{checked:y[f],"onUpdate:checked":b=>y[f]=b},null,8,["checked","onUpdate:checked"]),e("div",null,w(u),1)])]),_:2},1024)),64))]),_:1})]),_:1})])}}}),c=x=>(se("data-v-d9cdadc3"),x=x(),le(),x),fe={class:"ant-form ant-form-horizontal css-dev-only-do-not-override-16xcw0g",style:{"max-width":"600px"}},he={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},pe={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},ge=c(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Tên"},"Tên")],-1)),be={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},we={class:"ant-form-item-control-input"},xe={class:"ant-form-item-control-input-content"},ye=["readonly"],ke={key:0,class:"ant-form-explain error"},Ce={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},Ie={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},Se=c(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Số điện thoại"},"Số điện thoại")],-1)),Ne={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},$e={class:"ant-form-item-control-input"},Te={class:"ant-form-item-control-input-content"},Fe=["readonly"],Ue={key:0,class:"ant-form-explain error"},Be={class:"ant-form-item css-dev-only-do-not-override-16xcw0g"},Ve={class:"ant-row ant-form-row css-dev-only-do-not-override-16xcw0g"},De=c(()=>e("div",{class:"ant-col ant-form-item-label css-dev-only-do-not-override-16xcw0g",style:{width:"100px"}},[e("label",{class:"",title:"Địa chỉ"},"Địa chỉ")],-1)),Ee={class:"ant-col ant-col-24 ant-form-item-control css-dev-only-do-not-override-16xcw0g"},Me={class:"ant-form-item-control-input"},ze={class:"ant-form-item-control-input-content"},Re={key:0,class:"ant-form-explain error"},je={class:"flex justify-between gap-3"},Ae={method:"POST",id:"personalIdentification",enctype:"multipart/form-data",class:"w-100"},He={class:"modal-content"},Le={class:"form-group"},Oe={class:"form-group"},qe=c(()=>e("label",{for:"cccdFrontImage"},"Ảnh CCCD mặt trước",-1)),Pe=c(()=>e("br",null,null,-1)),Ke=["src"],Xe={class:"form-group"},Ye={class:"form-group"},Ge=c(()=>e("label",{for:"cccdFrontImage"},"Ảnh CCCD mặt sau",-1)),Je=c(()=>e("br",null,null,-1)),Qe=["src"],We={class:"form-group"},Ze=c(()=>e("label",{for:"cccdNumber"},"Số CCCD",-1)),et=c(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"cccdNumber_error"})],-1)),tt={class:"form-group"},ot=c(()=>e("label",{for:"bank"},"Chọn ngân hàng",-1)),nt=c(()=>e("option",{value:""},"Chọn ngân hàng",-1)),at=["value"],st=c(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"bank_error"})],-1)),lt={class:"form-group"},ct=c(()=>e("label",{for:"accountNumber"},"Số tài khoản",-1)),it=c(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"accountNumber_error"})],-1)),dt={class:"form-group"},rt=c(()=>e("label",{for:"accountHolderName"},"Tên chủ tài khoản",-1)),ut=c(()=>e("div",{class:"col-lg-9"},[e("span",{class:"invalid-feedback d-block",style:{"font-weight":"500"},id:"accountHolderName_error"})],-1)),_t=z({__name:"Info",setup(x){const{FormEdituser:y,editUser:h,getBank:g,responseBank:N,updateUserInfo:m}=ue(),v=l([]),k=H(),i=l(""),u=l(""),f=l(""),b=l(""),F=l(""),U=l(""),B=l(""),V=l(""),D=l("#"),E=l("#"),d=l({name:"",phone:"",address:""}),T=l(!0),M=l(!1);A(async()=>{const n=await k.getters.user;i.value=n,V.value=i.value.user_info[0].bank_name,B.value=i.value.user_info[0].idnumber,F.value=i.value.user_info[0].citizen_id_number,U.value=i.value.user_info[0].bank,D.value=i.value.user_info[0].front_image,E.value=i.value.user_info[0].back_image,u.value=i.value.phone,f.value=i.value.name,b.value=i.value.address,await g(),v.value=N.data});const Y=()=>{let n=!0;return d.value.name="",d.value.phone="",d.value.address="",f.value||(d.value.name="Tên không được để trống!",n=!1),u.value?/^\d+$/.test(u.value)||(d.value.phone="Số điện thoại phải là số!",n=!1):(d.value.phone="Số điện thoại không được để trống!",n=!1),b.value||(d.value.address="Địa chỉ không được để trống!",n=!1),n},G=async()=>{if(!Y())return;const n={name:f.value,phone:u.value,address:b.value};try{await h(n),T.value=!0}catch(t){console.error("Failed to save user info:",t)}};function J(n){const t=n.target.files[0];Q(t)}const Q=n=>{const t=new FileReader;t.onload=C=>{D.value=C.target.result},t.readAsDataURL(n)};function W(n){const t=n.target.files[0];Z(t)}const Z=n=>{const t=new FileReader;t.onload=C=>{E.value=C.target.result},t.readAsDataURL(n)},ee=async()=>{const n={"font-image":D.value,"back-image":E.value,citizen_id_number:F.value,bank_name:V.value,bank:U.value,idnumber:B.value};try{await m(n)}finally{L()}},te=()=>{M.value=!0},L=()=>{M.value=!1};return(n,t)=>{const C=r("a-button"),oe=r("a-card");return _(),p("div",null,[o(oe,{title:"Thông tin cá nhân"},{default:a(()=>[e("form",fe,[e("div",he,[e("div",pe,[ge,e("div",be,[e("div",we,[e("div",xe,[I(e("input",{readonly:T.value,type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s)},null,8,ye),[[$,f.value]]),d.value.name?(_(),p("div",ke,w(d.value.name),1)):R("",!0)])])])])]),e("div",Ce,[e("div",Ie,[Se,e("div",Ne,[e("div",$e,[e("div",Te,[I(e("input",{readonly:T.value,type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s)},null,8,Fe),[[$,u.value]]),d.value.phone?(_(),p("div",Ue,w(d.value.phone),1)):R("",!0)])])])])]),e("div",Be,[e("div",Ve,[De,e("div",Ee,[e("div",Me,[e("div",ze,[I(e("input",{type:"text",class:"ant-input css-dev-only-do-not-override-16xcw0g form-control","onUpdate:modelValue":t[2]||(t[2]=s=>b.value=s)},null,512),[[$,b.value]]),d.value.address?(_(),p("div",Re,w(d.value.address),1)):R("",!0)])])])])])]),e("div",je,[T.value?(_(),O(C,{key:1,class:"w-1/2",onClick:t[3]||(t[3]=()=>T.value=!1)},{default:a(()=>[S("Cập nhật")]),_:1})):(_(),O(C,{key:0,class:"w-1/2",onClick:G},{default:a(()=>[S("Lưu")]),_:1})),o(C,{onClick:te},{default:a(()=>[S("Định danh cá nhân")]),_:1}),e("div",{class:q(["modal",{active:M.value}]),onClick:P(L,["self"])},[e("div",{class:"modal-dialog modal-dialog-centered",role:"document",onClick:t[8]||(t[8]=P(()=>{},["stop"]))},[e("form",Ae,[e("div",He,[e("div",Le,[e("input",{type:"file",class:"form-control-file",id:"cccdFrontImage",name:"font-image",onChange:J},null,32),e("div",Oe,[qe,S(),Pe,e("img",{style:{width:"60px",height:"50px"},src:D.value,alt:""},null,8,Ke)])]),e("div",Xe,[e("input",{type:"file",class:"form-control-file",id:"cccdBackImage",name:"back-image",onChange:W},null,32),e("div",Ye,[Ge,S(),Je,e("img",{style:{width:"60px",height:"50px"},src:E.value,alt:""},null,8,Qe)])]),e("div",We,[Ze,I(e("input",{type:"text",class:"form-control",id:"cccdNumber",name:"citizen_id_number","onUpdate:modelValue":t[4]||(t[4]=s=>F.value=s)},null,512),[[$,F.value]]),et]),e("div",tt,[ot,I(e("select",{class:"form-control",id:"bank",name:"bank","onUpdate:modelValue":t[5]||(t[5]=s=>U.value=s)},[nt,(_(!0),p(K,null,X(v.value,s=>(_(),p("option",{value:s.bin},w(s.shortName),9,at))),256))],512),[[ae,U.value]]),st]),e("div",lt,[ct,I(e("input",{type:"text",class:"form-control",id:"accountNumber",name:"idnumber","onUpdate:modelValue":t[6]||(t[6]=s=>B.value=s)},null,512),[[$,B.value]]),it]),e("div",dt,[rt,I(e("input",{type:"text",class:"form-control",id:"accountHolderName",name:"bank_name","onUpdate:modelValue":t[7]||(t[7]=s=>V.value=s)},null,512),[[$,V.value]]),ut]),e("button",{type:"button",onClick:ee,class:"btn btn-primary btn-sm",style:{width:"100px"}},"Lưu")])])])],2),e("div",{class:q(["modal-overlay",{active:M.value}])},null,2)])]),_:1})])}}}),mt=_e(_t,[["__scopeId","data-v-d9cdadc3"]]),vt=z({__name:"AuthInfo",setup(x){const y=H(),h=l("");return A(async()=>{const g=await y.getters.user;h.value=g}),(g,N)=>{const m=r("a-descriptions-item"),v=r("a-descriptions"),k=r("a-card");return _(),p("div",null,[o(k,{title:"Thông tin đăng nhập"},{default:a(()=>[o(v,{column:1},{default:a(()=>[o(m,null,{default:a(()=>[S(" Tên đăng nhập : "+w(h.value.email),1)]),_:1}),o(m,null,{default:a(()=>[S(" Mật Khẩu: ******** ")]),_:1})]),_:1})]),_:1})])}}}),ft={class:"relative-wrapper"},ht={class:"background-div"},pt={class:"foreground-div flex justify-center relative"},gt={class:"ant-card-body main_info"},bt={class:"ant-card-meta"},wt={class:"ant-card-meta-detail"},xt={class:"ant-card-meta-title"},yt={class:"ant-card-meta-description"},kt={class:"flex flex-col md:flex-row md:space-x-4"},Ct=e("div",{class:"hidden md:block ml-2"}," Tổng quan ",-1),It={class:"mt-14 row d-flex flex-wrap"},Ft=z({__name:"index",setup(x){const y=H(),h=l(""),g=re();A(async()=>{const m=await y.getters.user;h.value=m});function N(m){switch(m){case"doinhom":g.push({name:"teams"});break;case"donhang":g.push({name:"orders"});break;default:g.push({name:"profile"})}}return(m,v)=>{const k=r("a-image"),i=r("a-avatar"),u=r("a-button"),f=r("a-card");return _(),p("div",null,[e("div",ft,[e("div",ht,[o(k,{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/20d4b1bdd72f28b66a0105764e94e83682338a3d48ba0a7597114917dca230b2?apiKey=b3083cca144a416593ef7615d067aac0&",alt:"Background",class:"object-cover",preview:!1})]),e("div",pt,[o(f,{hoverable:"",class:"w-11/12 px-2 flex flex-row items-center h-[100px] absolute -top-[70px] backdrop-blur-md bg-white/40 border-none justify-between",style:{width:"100%"}},{cover:a(()=>[o(i,{size:64,src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"})]),actions:a(()=>[e("div",kt,[o(u,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:a(()=>[o(j(ce)),Ct]),_:1}),o(u,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:a(()=>[o(j(ie)),e("div",{class:"hidden md:block ml-2",onClick:v[0]||(v[0]=b=>N("doinhom"))},"Đội nhóm")]),_:1}),o(u,{class:"bg-transparent border-0 hover:bg-white icon-center rounded-xl"},{default:a(()=>[o(j(de)),e("div",{class:"hidden md:block ml-2",onClick:v[1]||(v[1]=b=>N("donhang"))},"Đơn hàng")]),_:1})])]),default:a(()=>[e("div",gt,[e("div",bt,[e("div",wt,[e("div",xt,w(h.value.name),1),e("div",yt,w(h.value.email),1)])])])]),_:1})])]),e("div",It,[o(ve,{class:"col-lg-4 col-12"}),o(mt,{class:"col-lg-4 col-12"}),o(vt,{class:"col-lg-4 col-12"})])])}}});export{Ft as default};
