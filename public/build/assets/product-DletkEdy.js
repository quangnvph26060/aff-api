import{p,a as c,u as i}from"./vendor-BijbZa7l.js";import{a as g}from"./main-BqPZiIID.js";function w(){const o=g.baseURL,s={accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")},r=p({data:[],productCategory:[]}),u=i();return{getProduct:async()=>{var a;try{const t=await c.get(`${o}products`,{headers:s});if(t.data.status==="success"){const e=await u.getters.user;r.data=t.data.data;const n=((a=e.active_user_package)==null?void 0:a.package[0].reduced_price)??"";n&&r.data.forEach(d=>{d.price=d.price-d.price*(n/100)})}}catch(t){console.error("Error fetching the product:",t)}},responseProduct:r,findProduct:async a=>{try{const t=await c.post(`${o}products/${a}`);if(t.data.status==="success"){r.data=t.data.data;const e=await c.post(`${o}products/bycategory/${r.data.category_id}`);e.data.status==="success"&&(r.productCategory=e.data.data)}}catch(t){console.error("Error fetching the product:",t)}},searchProduct:async a=>{try{const t=await c.post(`${o}search-product`,{searchValues:a},{headers:s});t.data.status==="success"&&(r.data=t.data.data)}catch(t){console.error(t)}},getProductTop:async()=>{try{const a=await c.get(`${o}products/get-product-top `,{headers:s});a.status===200&&(r.data=a.data)}catch(a){console.error("Error fetching the product:",a)}}}}export{w as P};
