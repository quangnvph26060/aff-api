import{n as D,r as I,q as P,p as S,d as _,o as a,x as k,w as l,g as q,f as p,h as g,a8 as L,B as c,a9 as Q,e as s,F as d,H as j,v as u,z as b,E as G}from"./vendor-bE65uGJm.js";import{u as B}from"./useFormatCurrency-ovqMsPCw.js";import{T as J}from"./team-C2aD49lH.js";import"./main-Drxgvcuo.js";const U={style:{padding:"8px"}},W={key:0},X=["onClick"],Y=D({__name:"Team",setup(E){const{responseTeam:v,getAllTeamMember:y}=J(),x=I([]);P(async()=>{await y(),x.value=v.data,console.log(v.data)});const r=S({searchText:"",searchedColumn:""}),w=I(),$=e=>{switch(e){case"F1":return"#1F77B4";case"F2":return"#AEC7E8";case"F3":return"#FF7F0E";case"F4":return"#FFBB78";case"F5":return"#2CA02C";default:return""}},z=[{title:"Tài khoản",dataIndex:"email",width:180},{title:"Tên",dataIndex:"name",customFilterDropdown:!0,onFilter:(e,t)=>t.name.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{w.value.focus()},100)},width:250,scopedSlots:{customRender:"name"}},{title:"Mã thành viên",dataIndex:"id",width:140,customFilterDropdown:!0,onFilter:(e,t)=>t.id.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{w.value.focus()},100)}},{title:"DS Cá nhân",dataIndex:"personal_sale",sorter:{compare:(e,t)=>e.personal_sale-t.personal_sale},width:200},{title:"DS Nhóm",dataIndex:"team_sale",sorter:{compare:(e,t)=>e.team_sale-t.team_sale},width:200},{title:"Hạng thành viên",dataIndex:"level",filters:[{text:"F1",value:"F1"},{text:"F2",value:"F2"},{text:"F3",value:"F3"},{text:"F4",value:"F4"},{text:"F5",value:"F5"}],onFilter:(e,t)=>t.level.indexOf(e)===0,width:160}],N=S({pageSize:10,showSizeChanger:!0,responsive:!0,showLessItems:!0,onChange:(e,t)=>{}}),T=(e,t,C)=>{t(),r.searchText=e[0],r.searchedColumn=C},A=e=>{e({confirm:!0}),r.searchText=""};function O(e,t,C,f){}const R=G(),V=e=>{console.log("Link clicked for ID: ",e),R.push({name:"team",params:{id:e}})};return(e,t)=>{const C=_("a-input"),f=_("a-button"),M=_("a-tag"),H=_("a-table");return a(),k(H,{"data-source":x.value,columns:z,onChange:O,pagination:N,scroll:{x:1200}},{customFilterDropdown:l(({setSelectedKeys:n,selectedKeys:o,confirm:F,clearFilters:i,column:h})=>[q("div",U,[p(C,{ref_key:"searchInput",ref:w,placeholder:`Tìm ${h.title}`,value:o[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:m=>n(m.target.value?[m.target.value]:[]),onPressEnter:m=>T(o,F,h.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),p(f,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:m=>T(o,F,h.dataIndex)},{icon:l(()=>[p(g(L))]),default:l(()=>[c(" Tìm ")]),_:2},1032,["onClick"]),p(f,{size:"small",style:{width:"90px"},onClick:m=>A(i)},{default:l(()=>[c(" Đặt lại ")]),_:2},1032,["onClick"])])]),customFilterIcon:l(({filtered:n})=>[p(g(L),{style:Q({color:n?"#108ee9":void 0})},null,8,["style"])]),bodyCell:l(({text:n,column:o,record:F})=>[r.searchText&&r.searchedColumn===o.dataIndex?(a(),s("span",W,[(a(!0),s(d,null,j(n.toString().split(new RegExp(`(?<=${r.searchText})|(?=${r.searchText})`,"i")),(i,h)=>(a(),s(d,null,[i.toLowerCase()===r.searchText.toLowerCase()?(a(),s("mark",{key:h,class:"highlight"},u(i),1)):(a(),s(d,{key:1},[c(u(i),1)],64))],64))),256))])):(a(),s(d,{key:1},[o.dataIndex==="name"?(a(),s("a",{key:0,onClick:i=>V(F.id)},u(n),9,X)):b("",!0),o.dataIndex==="level"?(a(),k(M,{key:1,color:$(n)},{default:l(()=>[c(u(n),1)]),_:2},1032,["color"])):o.dataIndex==="personal_sale"?(a(),s(d,{key:2},[c(u(g(B)(n)),1)],64)):o.dataIndex==="team_sale"?(a(),s(d,{key:3},[c(u(g(B)(n)),1)],64)):b("",!0)],64))]),_:1},8,["data-source","pagination"])}}}),ae=D({__name:"index",setup(E){return(v,y)=>{const x=_("a-card");return a(),k(x,{title:"Quản lý đội nhóm",bordered:!1,class:"w-100"},{default:l(()=>[p(Y)]),_:1})}}});export{ae as default};
