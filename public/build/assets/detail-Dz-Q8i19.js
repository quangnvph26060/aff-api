import{P as H}from"./package-Nqg1e__6.js";import{u as N}from"./useFormatCurrency-ovqMsPCw.js";import{n as P,r as s,q as V,d as i,o as L,e as K,g as e,x as O,z as R,v as g,h as E,f as l,w as c,B as h,u as D,R as j,U as z,E as A}from"./vendor-BijbZa7l.js";import{a as F}from"./main-B_o5tOv-.js";/* empty css               */import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $=d=>(j("data-v-17c2016b"),d=d(),z(),d),J={class:"bg-[white] p-5 space-y-5 layout_mobi"},Q={class:"row flex-warp d-flex"},W={class:"col-lg-6 col-12 flex justify-center main_img_product"},X={class:"col-lg-6 col-12 space-y-4"},Y={class:"text-2xl"},Z={class:"text-xl"},ee=["innerHTML"],ae={class:"grid grid-cols-6 gap-4 mt-3 buy_cart"},te={class:"modal-content"},oe=["src"],se={class:"modal-title"},ne={class:"font-weight-bold"},le=["innerHTML"],re=$(()=>e("form",null,[e("div",{class:"form-group"},[e("label",{for:"description"},"Mô tả"),e("textarea",{class:"form-control",id:"description",name:"description",rows:"3",required:""})]),e("div",{class:"form-group"},[e("label",{for:"name"},"Tên của bạn"),e("input",{type:"text",class:"form-control",id:"name",name:"name",required:""})]),e("div",{class:"form-group"},[e("label",{for:"email"},"Email của bạn"),e("input",{type:"email",class:"form-control",id:"email",name:"email",required:""})]),e("div",{class:"form-group"},[e("label",{for:"phone"},"Số điện thoại"),e("input",{type:"tel",class:"form-control",id:"phone",name:"phone",required:""})]),e("div",{class:"form-group"},[e("label",{for:"rating"},"Đánh giá (số sao)"),e("input",{type:"number",class:"form-control",id:"rating",name:"rating",min:"1",max:"5",required:""})]),e("button",{type:"submit",class:"btn btn-primary"},"Gửi đánh giá")],-1)),ie=P({__name:"detail",setup(d){A();const{findPackage:U,responsePackage:b,submitOrder:I}=H(),y=D(),n=s([]),u=s(""),x=s("");V(async()=>{const t=window.location.href,a=t.substring(t.lastIndexOf("/")+1);x.value=a,await U(a),n.value=b.data;const r=await y.getters.user,o=await y.getters.admin;u.value=r,o&&o.user_info&&o.user_info.length>0&&(w.value=o.user_info[0].branch)}),s(null),s(1);const w=s(""),_=s(""),k=s("1"),T=t=>{const a=F.URL,r=t.replace("public","storage");return`${a}/${r}`},p=s(!1),B=()=>{p.value=!0;for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=a.length,o=0;o<8;o++){var m=Math.floor(Math.random()*r),v=a.charAt(m);t+=v}_.value=t},M=s(!1),S=async()=>{M.value=!0;const t={name:u.value.name,receive_address:u.value.address,phone:u.value.phone,package_id:x.value,zip_code:_.value,total_money:b.data.price};console.log(t);try{await I(t),p.value=!1}catch{}finally{M.value=!1}};return(t,a)=>{const r=i("a-image"),o=i("a-divider"),m=i("a-button"),v=i("a-modal"),C=i("a-tab-pane"),q=i("a-tabs");return L(),K("div",J,[e("div",Q,[e("div",W,[n.value&&n.value.image&&n.value.image.length>0?(L(),O(r,{key:0,src:T(n.value.image),class:"object-cover max-w-[500px]",preview:!1},null,8,["src"])):R("",!0)]),e("div",X,[e("span",Y,g(n.value.name),1),e("p",null,[e("span",Z,g(E(N)(n.value.price)),1)]),l(o),e("div",{innerHTML:n.value.note},null,8,ee),l(o),e("div",ae,[l(m,{type:"primary",class:"h-[40px] col-span-3 lg:col-span-2 bg-secondary",style:{"margin-right":"10px"},onClick:B},{default:c(()=>[h(" Mua ngay ")]),_:1}),l(v,{visible:p.value,"onUpdate:visible":a[0]||(a[0]=f=>p.value=f),title:"Thanh toán",footer:null},{default:c(()=>[e("div",te,[e("img",{src:w.value,alt:"Hình ảnh",style:{width:"80%"}},null,8,oe),e("p",se,[h(" Nội dung chuyển khoản: "),e("span",ne,g(_.value),1)]),l(m,{type:"primary",class:"bg-secondary",onClick:S},{default:c(()=>[h("Mua")]),_:1})])]),_:1},8,["visible"])])])]),e("div",null,[l(q,{activeKey:k.value,"onUpdate:activeKey":a[1]||(a[1]=f=>k.value=f),class:"xl:px-5"},{default:c(()=>[l(C,{key:"1",tab:"Chi tiết sản phẩm"},{default:c(()=>[e("div",{innerHTML:n.value.note},null,8,le)]),_:1}),l(C,{key:"2",tab:"Đánh giá"},{default:c(()=>[re]),_:1})]),_:1},8,["activeKey"])]),l(o)])}}}),ve=G(ie,[["__scopeId","data-v-17c2016b"]]);export{ve as default};
