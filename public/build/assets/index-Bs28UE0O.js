import{n as M,r as g,q as X,p as D,d as w,o as n,e as o,g as C,v as d,f as s,w as l,B as c,h as k,a8 as $,a9 as J,F as u,I as W,z as E,x as N,E as Y}from"./vendor-ZmbnWLp6.js";import{u as z}from"./useFormatCurrency-ovqMsPCw.js";import{T as Z}from"./team-CGIcSF-1.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-H3fHEa0S.js";const ee={class:"col-md-6 alert alert-danger"},te={class:"col-md-6 d-flex gap-4 mb-4"},ae=C("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-row",width:"60",height:"60",viewBox:"0 0 24 24"},[C("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m17 8l4 4l-4 4M7 8l-4 4l4 4"})],-1),ne={style:{padding:"8px"}},oe={key:0},se=["onClick"],re=M({__name:"Team",setup(V){const{responseTeam:y,getAllTeamMember:L,changeGroup:T}=Z(),S=g([]);X(async()=>{await L(),S.value=y.data,console.log(y.data)});const i=D({searchText:"",searchedColumn:""}),I=g(),A=e=>{switch(e){case"F1":return"#1F77B4";case"F2":return"#AEC7E8";case"F3":return"#FF7F0E";case"F4":return"#FFBB78";case"F5":return"#2CA02C";default:return""}},O=[{title:"Tài khoản",dataIndex:"email",width:180},{title:"Tên",dataIndex:"name",customFilterDropdown:!0,onFilter:(e,t)=>t.name.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{I.value.focus()},100)},width:250,scopedSlots:{customRender:"name"}},{title:"Mã thành viên",dataIndex:"referral_code",width:140,customFilterDropdown:!0,onFilter:(e,t)=>t.id.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{I.value.focus()},100)}},{title:"DS Cá nhân",dataIndex:"personal_sale",sorter:{compare:(e,t)=>e.personal_sale-t.personal_sale},width:200},{title:"DS Nhóm",dataIndex:"team_sale",sorter:{compare:(e,t)=>e.team_sale-t.team_sale},width:200},{title:"Hạng thành viên",dataIndex:"level",filters:[{text:"F1",value:"F1"},{text:"F2",value:"F2"},{text:"F3",value:"F3"},{text:"F4",value:"F4"},{text:"F5",value:"F5"}],onFilter:(e,t)=>t.level.indexOf(e)===0,width:160}],R=D({pageSize:10,showSizeChanger:!0,responsive:!0,showLessItems:!0,onChange:(e,t)=>{}}),B=(e,t,m)=>{t(),i.searchText=e[0],i.searchedColumn=m},P=e=>{e({confirm:!0}),i.searchText=""};function U(e,t,m,f){}const j=Y(),q=e=>{console.log("Link clicked for ID: ",e),j.push({name:"team",params:{id:e}})},h=g(""),_=g(""),b=g(""),G=async()=>{if(h.value===""||_.value===""){b.value="Vui lòng nhập đầy đủ thông tin.";return}const e={memberCode:h.value,teamLeaderCode:_.value};b.value="",await T(e),h.value="",_.value=""};return(e,t)=>{const m=w("a-input"),f=w("a-button"),H=w("a-tag"),Q=w("a-table");return n(),o(u,null,[C("div",ee,d(b.value),1),C("div",te,[s(m,{value:h.value,"onUpdate:value":t[0]||(t[0]=a=>h.value=a),placeholder:"Mã thành viên",class:"w-[200px]"},null,8,["value"]),ae,s(m,{value:_.value,"onUpdate:value":t[1]||(t[1]=a=>_.value=a),placeholder:"Mã trưởng nhóm",class:"w-[200px]"},null,8,["value"]),s(f,{class:"text-white bg-secondary",onClick:t[2]||(t[2]=a=>G())},{default:l(()=>[c("Xác nhận")]),_:1})]),s(Q,{"data-source":S.value,columns:O,onChange:U,pagination:R,scroll:{x:1200},class:"main-mobi-teams"},{customFilterDropdown:l(({setSelectedKeys:a,selectedKeys:r,confirm:F,clearFilters:p,column:v})=>[C("div",ne,[s(m,{ref_key:"searchInput",ref:I,placeholder:`Tìm ${v.title}`,value:r[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:x=>a(x.target.value?[x.target.value]:[]),onPressEnter:x=>B(r,F,v.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),s(f,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:x=>B(r,F,v.dataIndex)},{icon:l(()=>[s(k($))]),default:l(()=>[c(" Tìm ")]),_:2},1032,["onClick"]),s(f,{size:"small",style:{width:"90px"},onClick:x=>P(p)},{default:l(()=>[c(" Đặt lại ")]),_:2},1032,["onClick"])])]),customFilterIcon:l(({filtered:a})=>[s(k($),{style:J({color:a?"#108ee9":void 0})},null,8,["style"])]),bodyCell:l(({text:a,column:r,record:F})=>[i.searchText&&i.searchedColumn===r.dataIndex?(n(),o("span",oe,[(n(!0),o(u,null,W(a.toString().split(new RegExp(`(?<=${i.searchText})|(?=${i.searchText})`,"i")),(p,v)=>(n(),o(u,null,[p.toLowerCase()===i.searchText.toLowerCase()?(n(),o("mark",{key:v,class:"highlight"},d(p),1)):(n(),o(u,{key:1},[c(d(p),1)],64))],64))),256))])):(n(),o(u,{key:1},[r.dataIndex==="name"?(n(),o("a",{key:0,onClick:p=>q(F.id)},d(a),9,se)):E("",!0),r.dataIndex==="level"?(n(),N(H,{key:1,color:A(a)},{default:l(()=>[c(d(a),1)]),_:2},1032,["color"])):r.dataIndex==="personal_sale"?(n(),o(u,{key:2},[c(d(k(z)(a)),1)],64)):r.dataIndex==="team_sale"?(n(),o(u,{key:3},[c(d(k(z)(a)),1)],64)):E("",!0)],64))]),_:1},8,["data-source","pagination"])],64)}}}),le=M({__name:"index",setup(V){return(y,L)=>{const T=w("a-card");return n(),N(T,{title:"Quản lý đội nhóm",bordered:!1,class:"w-100 main-mobi-teams"},{default:l(()=>[s(re)]),_:1})}}}),pe=K(le,[["__scopeId","data-v-d8dc738a"]]);export{pe as default};
